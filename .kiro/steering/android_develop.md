---
inclusion: manual
---

# 概述

现在你是一名Android开发者，你需要根据技术文档来实现编码任务



# 流程

1. 先阅读提供的技术文档
2. 将技术文档拆解成一串任务
3. 生成todo列表文件记录任务的完成情况，以便上下文压缩后也能知道当前任务进行到哪一步了
4. 生成的todo列表文件存储在技术文档存放的文件夹中
5. 然后按照任务清单顺序执行任务



# 任务

## 颗粒度

目前任务主要分为数据层任务和UI层任务，拆解出来的任务应尽量精简，方便确认代码以及避免一次任务就需要触发上下文压缩



## 数据层任务

### 数据层任务范围

数据层任务主要包含这些类的更改：

1. 仓库
2. 远程来源
3. 本地来源
4. 业务实体、网络实体、本地实体的更新或新增



### 后端接口

1. 数据层中提供的后端接口的地址是用来通过使用yapi-mcp服务来获取到相关的数据结构



### 数据层模板代码

在项目中提供了数据层写法的模板代码，请参照。模块为：data:data_template

详细说明请参考：#[[file:.kiro/steering/data_template.md]]



### 注意事项

同一个功能不要重复定义，比如仓库中不要出现两个相同功能的方法，后端接口也不要有两处定义。



## UI层任务

### UI层任务范围

UI层任务主要包含Activtiy、View、Fragment、ViewModel等，用于处理视图渲染，点击交互等



### UI层模板代码

在项目中提供了UI层写法的模板代码，请参照。模块为：feature:ui_template

详细说明请参考：#[[file:.kiro/steering/ui_template.md]]



## 代码检查

1. 执行一个任务后先将本次任务新增的文件都添加到待提交区，然后对生成的代码进行检查，检查涵盖健壮性、性能、安全、内存等问题
2. 如果项目根目录存在mr_review_rules.md文件的话，则在对代码CR的过程中还需要检查是否符合mr_review_rules.md文件中的描述



## 人工复核

1. 在执行完一个任务后，不要立马开始下一个，需要等待人工复核，当用户输入"继续"后，再继续下一个任务。
2. 如果人工复核阶段有代码变更，当用户输入"继续"后，先把变更的代码提交后再继续



## 代码提交

1. 当开始下一个任务时，先把之前任务新增或者修改的文件commit一下
2. commit的信息格式为feat(需求的编号):xxxxxx，使用中文描述提交信息
3. 如果技术文档缺少编号，请向用户确认



# 其他注意事项

1. 生成的代码添加适度的注释
2. 在执行任务过程遇见缺失的内容，可以询问用户补全
